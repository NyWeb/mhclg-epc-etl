{
  "Records": [
    {
      "messageId": "19dd0b57-b21e-4ac1-bd88-01bbb068cb78",
      "receiptHandle": "MessageReceiptHandle",
      "body": {
        "configuration": {
          "extract": {
            "queries": {
              "ASSESSOR": {
                "query": "SELECT * FROM assessors WHERE ASSESSOR_KEY = 'TEST000000'",
                "multiple": false
              }
            }
          },
          "transform": {
            "rules": [
              {
                "from": ["data", "ASSESSOR", "FIRST_NAME"],
                "to": ["data", "firstName"]
              },
              {
                "from": ["data", "ASSESSOR", "SURNAME"],
                "to": ["data", "lastName"]
              },
              {
                "from": ["data", "ASSESSOR", "DATE_OF_BIRTH"],
                "to": ["data", "dateOfBirth"],
                "convert": {
                  "type": "date_format",
                  "args": ["%Y-%m-%d"]
                }
              },
              {
                "from": ["data", "ASSESSOR", "ORGANISATION_KEY"],
                "to": ["configuration", "load", "endpoint", "params", "scheme_id"],
                "convert": {
                  "type": "map",
                  "args": [{
                    "142": 2,
                    "144": 3
                  }]
                }
              },
              {
                "from": ["data", "ASSESSOR", "ASSESSOR_ID"],
                "to": ["configuration", "load", "endpoint", "params", "scheme_assessor_id"]
              }
            ]
          },
          "load": {
            "endpoint": {
              "uri": "http://test-endpoint/api/schemes/1/assessors/TEST000000",
              "method": "put"
            }
          }
        },
        "data": {
          "ASSESSOR": {
            "ASSESSOR_KEY": 89030012,
            "ACTIVE_IND": "N",
            "ASSESSOR_ID": "TEST000000",
            "BASE_POSTCODE_LOCATION": "S1 1DA",
            "ADDRESS1": "Green House",
            "ADDRESS2": "89 Street",
            "ADDRESS3": null,
            "POST_TOWN": "Sheffield",
            "POSTCODE": "S1 2HE",
            "COMPANY_NAME": "Test Ltd",
            "EMAIL": "test@example.com",
            "COMPANY_FAX": null,
            "TELEPHONE": "07777777777",
            "COMPANY_WEBSITE": "www.example.com",
            "DATE_OF_BIRTH": "1980-11-01 00:00:00.000000",
            "FIRST_NAME": "Joe",
            "NAME_PREFIX": "Mr",
            "NAME_SUFFIX": null,
            "SURNAME": "Testerton",
            "DELETED_IN_UPLOAD": 123456,
            "ORGANISATION_KEY": 144,
            "FIRST_NAME_PHONIC": "JM",
            "SURNAME_PHONIC": "TN",
            "ASSESSOR_LOCATION": [
              1234,
              1234,
              [
                746745,
                523646,
                null
              ],
              null,
              null
            ],
            "MIDDLE_NAMES": "Not Applicable",
            "DISPLAY_NAME": null,
            "COMPANY_REG_NO": null,
            "COMPANY_ADDR1": "Example address",
            "COMPANY_ADDR2": "Long Street",
            "COMPANY_ADDR3": null,
            "COMPANY_TOWN": "Sheffield",
            "COMPANY_POSTCODE": "S1 1DA",
            "COMPANY_TELEPHONE": "07000 678901",
            "COMPANY_EMAIL": "test@example.com",
            "UPI": null
          }
        }
      },
      "attributes": {
        "ApproximateReceiveCount": "1",
        "SentTimestamp": "1523232000000",
        "SenderId": "123456789012",
        "ApproximateFirstReceiveTimestamp": "1523232000001"
      },
      "messageAttributes": {},
      "md5OfBody": "7b270e59b47ff90a553787216d55d91d",
      "eventSource": "aws:sqs",
      "eventSourceARN": "arn:aws:sqs:eu-west-2:123456789012:MyQueue",
      "awsRegion": "eu-west-2"
    }
  ]
}
